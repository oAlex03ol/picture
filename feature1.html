<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Feature Bubble</title>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<style>
:root {
    --yellow-border: #ffc107;
    --text-color: #333;
    --bg-color: #ffffff;
}

/* --- Wrapper center --- */
.wrap-center {
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 40px 0;
    width: 100%;
    box-sizing: border-box;
    margin: 0 auto;
}

/* --- Jiggle Animation --- */
@keyframes jiggleX {
    0% { transform: translateX(0); }
    20% { transform: translateX(-6px); }
    40% { transform: translateX(6px); }
    60% { transform: translateX(-4px); }
    80% { transform: translateX(4px); }
    100% { transform: translateX(0); }
}

.shake {
    animation: jiggleX 0.55s ease-in-out;
}

/* --- Bubble Container --- */
.bubble-wrap {
    display: inline-block;
}

/* --- Bubble Style --- */
.feature-bubble {
    background-color: var(--bg-color);
    color: var(--text-color);
    border: 4px solid var(--yellow-border);
    border-radius: 20px;
    padding: 26px 39px;

    width: 90%;
    max-width: 650px;
    box-sizing: border-box;

    position: relative;
    box-shadow: 0 6px 15px rgba(0,0,0,0.15);
    cursor: pointer;

    transition: all 0.4s ease-out;
    opacity: 1;
    transform: translateY(0);
}

.feature-bubble:hover {
    transform: scale(1.02);
    box-shadow: 0 8px 20px rgba(0,0,0,0.25);
}

/* --- Text Size --- */
.feature-bubble h2 {
    font-size: clamp(20px, 5vw, 31px);
    margin-top: 0;
    margin-bottom: 13px;
    font-weight: 700;
}

.feature-bubble p {
    font-size: clamp(16px, 4vw, 26px);
    line-height: 1.6;
    margin-bottom: 0;
    font-weight: 400;
}

/* --- Arrow (Desktop) --- */
.feature-bubble::after {
    content: '';
    position: absolute;
    right: -21px;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-top: 22px solid transparent;
    border-bottom: 22px solid transparent;
    border-left: 22px solid var(--bg-color);
}

.feature-bubble::before {
    content: '';
    position: absolute;
    right: -28px;
    top: 50%;
    transform: translateY(-50%);
    width: 0;
    height: 0;
    border-top: 24px solid transparent;
    border-bottom: 24px solid transparent;
    border-left: 24px solid var(--yellow-border);
    z-index: -1;
}

/* --- Mobile View: Arrow moves to bottom --- */
@media (max-width: 450px) {

    .feature-bubble {
        padding: 22px 24px;
    }

    .feature-bubble::after {
        right: 50%;
        top: auto;
        bottom: -20px;
        transform: translateX(50%);
        border-left: 22px solid transparent;
        border-right: 22px solid transparent;
        border-top: 22px solid var(--bg-color);
        border-bottom: none;
    }

    .feature-bubble::before {
        right: 50%;
        top: auto;
        bottom: -26px;
        transform: translateX(50%);
        border-left: 24px solid transparent;
        border-right: 24px solid transparent;
        border-top: 24px solid var(--yellow-border);
        border-bottom: none;
    }
}
</style>
</head>

<body>

<div class="wrap-center">
    <div class="bubble-wrap" id="wrap">
        <div class="feature-bubble" id="main-bubble">
            <h2>特色一</h2>
            <p>
                以熟食為主要賣點：黃昏市場服務的對象相比早市更多元。多數人早上外出上班，
                下班後才有時間採買食材或熟食，使黃昏市場成為忙碌族群便利的飲食補給站。
            </p>
        </div>
    </div>
</div>

<script>
// --- Shake Animation ---
const wrap = document.getElementById('wrap');
const bubble = document.getElementById('main-bubble');

bubble.addEventListener('click', () => {
    bubble.classList.remove('shake');
    void bubble.offsetWidth;
    bubble.classList.add('shake');
});

bubble.addEventListener('animationend', e => {
    if (e.animationName === 'jiggleX') {
        bubble.classList.remove('shake');
    }
});

// --- Auto Resize for Google Sites iframe ---
function sendHeight() {
    const height = document.documentElement.scrollHeight;
    parent.postMessage({ iframeHeight: height }, "*");
}

window.addEventListener("load", sendHeight);
window.addEventListener("resize", sendHeight);
setInterval(sendHeight, 300);
</script>

</body>
</html>
